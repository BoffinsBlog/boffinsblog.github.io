<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Reducing My Digital Footprint | Boffins Blog</title>
<meta name="keywords" content="Self Hosting, Web-Servers">
<meta name="description" content="Treading more lightly (digitally).">
<meta name="author" content="Boffin">
<link rel="canonical" href="https://boffinsblog.github.io/posts/reducing-my-digital-footprint/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.e13be8719bbabf4005d0d2b0f19dba897f7d41b2e807b64c47ee1436d126ab01.css" integrity="sha256-4TvocZu6v0AF0NKw8Z26iX99QbLoB7ZMR&#43;4UNtEmqwE=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://boffinsblog.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://boffinsblog.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://boffinsblog.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://boffinsblog.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://boffinsblog.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://boffinsblog.github.io/posts/reducing-my-digital-footprint/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:url" content="https://boffinsblog.github.io/posts/reducing-my-digital-footprint/">
  <meta property="og:site_name" content="Boffins Blog">
  <meta property="og:title" content="Reducing My Digital Footprint">
  <meta property="og:description" content="Treading more lightly (digitally).">
  <meta property="og:locale" content="en-gb">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-03-15T15:27:32+01:00">
    <meta property="article:modified_time" content="2025-03-15T15:27:32+01:00">
    <meta property="article:tag" content="Self Hosting">
    <meta property="article:tag" content="Web-Servers">
    <meta property="og:image" content="https://boffinsblog.github.io/posts/reducing-my-digital-footprint/01_Book_TBR_Pile.webp">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://boffinsblog.github.io/posts/reducing-my-digital-footprint/01_Book_TBR_Pile.webp">
<meta name="twitter:title" content="Reducing My Digital Footprint">
<meta name="twitter:description" content="Treading more lightly (digitally).">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://boffinsblog.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Reducing My Digital Footprint",
      "item": "https://boffinsblog.github.io/posts/reducing-my-digital-footprint/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Reducing My Digital Footprint",
  "name": "Reducing My Digital Footprint",
  "description": "Treading more lightly (digitally).",
  "keywords": [
    "Self Hosting", "Web-Servers"
  ],
  "articleBody": "Why TL;DR I want to read more books.\nThe Past 2024 was the year that I ended a bunch of relationships I was looking at my list of internet logins and thought “why the fuck do I have an account with a shop I’ve not used for years?”\nSo I set about terminating unused or unwanted accounts.\nWith various degrees of success.\nSome account terminations were utterly straightforward, some required a couple of email prompts, others GDPR mails, whist others had simply vanished from the internet.\n(As of writing this I’ve gone down from c.200 accounts to c.20.)\nThe Present 2025 is the year I rid myself of unused services (Mainly the ones I’ve inflicted upon myself.)\nI have gone through various installations and services over the years*.\nThe server that lives under the telly was running a whole bunch of stuff.\nIn no particular order:\nDifferent flavours of webserver (nginx and lighttpd)\nWebserver traffic analysis tools ( GoAccess and AWStats )\nGraphical packages for traffic analysis ( Grafana , Prometheus and NodeExporter )\nVarious Fediverse social media installations ( Calckey , Firefish , Iceshrimp , Iceshrimp.NET and GoToSocial )\nA Git server (later moved to Forgejo )\nAn RSS server ( FreshRSS )\nA streaming music server ( Navidrome )\nA media server ( Jellyfin )\nPi-hole DNS server ( Unbound )\nVPN ( PiVPN and WireGuard )\nMail server (Postfix)\nIMAP and POP3 server (Dovecot)\nAn FTP server\nBots (*Not a comprehensive list; simply the ones I can remember as I’m writing this.)\nSome of which required databases like:\nPostgreSQL\nMariaDB\nSQLite\nAs most of these services were internet facing I needed hardening tools like:\nUFW\nPGtune\nFail2ban\nWith my Domain about to expire and an unexpected fuckup that necessitated reinstalling the server, I felt it was time to simplify a few things:\nOnly install a webserver (nginx) for a couple of static legacy sites, meaning only Ports 80 and 443 need to be open on the router\nAs traffic is coming into the server only on these two ports, the firewall only requires these two ports to be open\nSSH is only accessible from the LAN; no open Port 22 on the router means no need for Fail2ban\nThe media server (Jellyfin) is only accessible from the LAN, so no router or firewall ports need to be open\nAny other networked device (TV etc) has the DNS set to use Cloudflare (1.1.1.1) rather than my DNS server\nNo need for Pi-hole as my browser ad-blockers seem to be doing their job\nThe Future Friction Has streamlining my usage caused friction?\nYes.\nIs that all bad?\nNo.\nI’ll use FreshRSS as an example.\nI had it running happily on the server.\nIt provided a flawless central place to bring together feed subscriptions and sync them with my other devices.\nNo complaints whatsoever.\nHowever the administration side went something like this:\nFind a suitable server application (FreshRSS)\nDownload, install and configure\nRegularly check for an update (if the application was not installed via the repositories)\nBackup the database (usually nightly via a cron job)\nOccasionally check that those backups restore correctly\nHave a process in place to get the backups off the server and somewhere safe\nFind an Android app (Feeder)\nDownload, install and configure\nUpdates happen automatically (as I chose an application from the Store)\nSyncs happen automagically\nThat seems a lot but in reality the majority of work was done via bash scripts.\nNow, my current desktop workflow is:\nFind a desktop app (Liferea)\nDownload, install and configure\nUpdates happen automatically (as I chose an application from the repositories)\nOccasionally export a OMPL backup locally\nAs syncing is no longer happening, the current mobile workflow is:\nFind an Android app (FeedMe)\nDownload, install and configure\nUpdates happen automatically (as I chose an application from the Store)\nOccasionally import the OMPL backup using a wire connected to the laptop\nNow, is it easier to have a service running on a server that syncs automatically?\nYes, of course it is.\nBut, overall (for me), it’s quicker to plug a wire into my phone and transfer a file, which I then import into my phones RSS reader.\nSelf hosting can be free from a cash perspective but it comes with a time cost Repeat a similar process for all of the above mentioned services and the time cost start to add up.\nFor me, most, if not all were learning vehicles; a curiosity itch to scratch.\nI was curious about the Fediverse so I installed and wrote scripts for various flavours and database schemas.\nI wanted to learn about WordPress so installed and tinkered with that.\nLikewise Hugo.\nThere were $Reasons for all of the services on the list; I’ve just run out of $Reasons.\nNext? As there is no Domain, there is no way to list this IP with Google; which means no search engine listings.\nAs I have zero social media there is no way to promote these pages.\nSo, if a blog is not findable and receives no traffic does it even exist?\n¯\\_(ツ)_/¯\nThe point is, I don’t care.\nThis was always for myself, my learning and my notes to myself about my learning.\nSo even this will probably be nuked in the near future.\nFor now?\nI’m off to read a book.\n",
  "wordCount" : "887",
  "inLanguage": "en",
  "image":"https://boffinsblog.github.io/posts/reducing-my-digital-footprint/01_Book_TBR_Pile.webp","datePublished": "2025-03-15T15:27:32+01:00",
  "dateModified": "2025-03-15T15:27:32+01:00",
  "author":{
    "@type": "Person",
    "name": "Boffin"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://boffinsblog.github.io/posts/reducing-my-digital-footprint/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Boffins Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://boffinsblog.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://boffinsblog.github.io/" accesskey="h" title="Boffins Blog (Alt + H)">Boffins Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://boffinsblog.github.io/categories/featured/" title="Featured">
                    <span>Featured</span>
                </a>
            </li>
            <li>
                <a href="https://boffinsblog.github.io/categories" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://boffinsblog.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://boffinsblog.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://boffinsblog.github.io/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Reducing My Digital Footprint
    </h1>
    <div class="post-meta"><span title='2025-03-15 15:27:32 +0100 +0100'>March 15, 2025</span>&nbsp;·&nbsp;<span>5 min</span>&nbsp;·&nbsp;<span>Boffin</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#why" aria-label="Why">Why</a></li>
                <li>
                    <a href="#the-past" aria-label="The Past">The Past</a><ul>
                        
                <li>
                    <a href="#2024-was-the-year-that-i-ended-a-bunch-of-relationships" aria-label="2024 was the year that I ended a bunch of relationships">2024 was the year that I ended a bunch of relationships</a></li></ul>
                </li>
                <li>
                    <a href="#the-present" aria-label="The Present">The Present</a><ul>
                        
                <li>
                    <a href="#2025-is-the-year-i-rid-myself-of-unused-services" aria-label="2025 is the year I rid myself of unused services">2025 is the year I rid myself of unused services</a></li></ul>
                </li>
                <li>
                    <a href="#the-future" aria-label="The Future">The Future</a><ul>
                        
                <li>
                    <a href="#friction" aria-label="Friction">Friction</a></li>
                <li>
                    <a href="#self-hosting-can-be-free-from-a-cash-perspective-but-it-comes-with-a-time-cost" aria-label="Self hosting can be free from a cash perspective but it comes with a time cost">Self hosting can be free from a cash perspective but it comes with a time cost</a></li>
                <li>
                    <a href="#next" aria-label="Next?">Next?</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="why">Why<a hidden class="anchor" aria-hidden="true" href="#why">#</a></h2>
<p><strong>TL;DR</strong> I want to read more books.</p>
<h2 id="the-past">The Past<a hidden class="anchor" aria-hidden="true" href="#the-past">#</a></h2>
<h3 id="2024-was-the-year-that-i-ended-a-bunch-of-relationships">2024 was the year that I ended a bunch of relationships<a hidden class="anchor" aria-hidden="true" href="#2024-was-the-year-that-i-ended-a-bunch-of-relationships">#</a></h3>
<p>I was looking at my list of internet logins and thought &ldquo;why the fuck do I have an account with a shop I&rsquo;ve not used for years?&rdquo;</p>
<p>So I set about terminating unused or unwanted accounts.</p>
<p>With various degrees of success.</p>
<p>Some account terminations were utterly straightforward, some required a couple of email prompts, others GDPR mails, whist others had simply <em>vanished</em> from the internet.</p>
<p>(As of writing this I&rsquo;ve gone down from c.200 accounts to c.20.)</p>
<h2 id="the-present">The Present<a hidden class="anchor" aria-hidden="true" href="#the-present">#</a></h2>
<h3 id="2025-is-the-year-i-rid-myself-of-unused-services">2025 is the year I rid myself of unused services<a hidden class="anchor" aria-hidden="true" href="#2025-is-the-year-i-rid-myself-of-unused-services">#</a></h3>
<p>(Mainly the ones I&rsquo;ve inflicted upon myself.)</p>
<p>I have gone through various installations and services over the years*.</p>
<p>The server that lives under the telly was running a whole bunch of stuff.</p>
<p>In no particular order:</p>
<ul>
<li>
<p>Different flavours of webserver (nginx and lighttpd)</p>
</li>
<li>
<p>Webserver traffic analysis tools (


  <a href="/posts/apache-traffic-analysis-using-goaccess/">GoAccess</a>
 and 

<a href="https://www.awstats.org/" target="_blank" rel="nofollow noopener noreferrer">AWStats</a>
)</p>
</li>
<li>
<p>Graphical packages for traffic analysis (


  <a href="/posts/iceshrimp-net-grafana-dashboard/">Grafana</a>
, 


  <a href="/posts/prometheus-scraper/">Prometheus</a>
 and 


  <a href="/posts/prometheus-scraper/">NodeExporter</a>
)</p>
</li>
<li>
<p>Various Fediverse social media installations (


  <a href="/posts/calckey-fediverse-server/">Calckey</a>
, 


  <a href="/posts/firefish-backup-and-restore/">Firefish</a>
, 


  <a href="/posts/installing-iceshrimp/">Iceshrimp</a>
, 


  <a href="/posts/installing-iceshrimp-net/">Iceshrimp.NET</a>
 and 


  <a href="/posts/moving-to-gotosocial/">GoToSocial</a>
)</p>
</li>
<li>
<p>A 


  <a href="/posts/installing-gitea/">Git server</a>
 (later moved to 

<a href="https://forgejo.org/" target="_blank" rel="nofollow noopener noreferrer">Forgejo</a>
)</p>
</li>
<li>
<p>An RSS server (


  <a href="/posts/self-hosting-freshrss/">FreshRSS</a>
)</p>
</li>
<li>
<p>A streaming music server (


  <a href="/posts/navidrome-streaming/">Navidrome</a>
)</p>
</li>
<li>
<p>A media server (


  <a href="/posts/jellyfin-app-on-a-tizen-tv/">Jellyfin</a>
)</p>
</li>
<li>
<p>


  <a href="/posts/pi-hole-with-unbound-and-pivpn/">Pi-hole</a>
</p>
</li>
<li>
<p>DNS server (


  <a href="/posts/pi-hole-with-unbound-and-pivpn/">Unbound</a>
)</p>
</li>
<li>
<p>VPN (


  <a href="/posts/pi-hole-with-unbound-and-pivpn/">PiVPN and WireGuard</a>
)</p>
</li>
<li>
<p>Mail server (Postfix)</p>
</li>
<li>
<p>IMAP and POP3 server (Dovecot)</p>
</li>
<li>
<p>An FTP server</p>
</li>
<li>
<p>


  <a href="/posts/iceshrimp-net-rss-bot/">Bots</a>
</p>
</li>
</ul>
<p>(*Not a comprehensive list; simply the ones I can remember as I&rsquo;m writing this.)</p>
<p>Some of which required databases like:</p>
<ul>
<li>
<p>PostgreSQL</p>
</li>
<li>
<p>MariaDB</p>
</li>
<li>
<p>SQLite</p>
</li>
</ul>
<p>As most of these services were internet facing I needed hardening tools like:</p>
<ul>
<li>
<p>UFW</p>
</li>
<li>
<p>PGtune</p>
</li>
<li>
<p>Fail2ban</p>
</li>
</ul>
<p>With my Domain about to expire and an unexpected fuckup that necessitated reinstalling the server, I felt it was time to simplify a few things:</p>
<ul>
<li>
<p>Only install a webserver (nginx) for a couple of static legacy sites, meaning only Ports 80 and 443 need to be open on the router</p>
</li>
<li>
<p>As traffic is coming into the server only on these two ports, the firewall only requires these two ports to be open</p>
</li>
<li>
<p>SSH is only accessible from the LAN; no open Port 22 on the router means no need for Fail2ban</p>
</li>
<li>
<p>The media server (Jellyfin) is only accessible from the LAN, so no router or firewall ports need to be open</p>
</li>
<li>
<p>Any other networked device (TV etc) has the DNS set to use Cloudflare (1.1.1.1) rather than my DNS server</p>
</li>
<li>
<p>No need for Pi-hole as my browser ad-blockers seem to be doing their job</p>
</li>
</ul>
<h2 id="the-future">The Future<a hidden class="anchor" aria-hidden="true" href="#the-future">#</a></h2>
<h3 id="friction">Friction<a hidden class="anchor" aria-hidden="true" href="#friction">#</a></h3>
<p>Has streamlining my usage caused friction?</p>
<p>Yes.</p>
<p>Is that all bad?</p>
<p>No.</p>
<p>I&rsquo;ll use FreshRSS as an example.</p>
<p>I had it running happily on the server.</p>
<p>It provided a flawless central place to bring together feed subscriptions and sync them with my other devices.</p>
<p>No complaints whatsoever.</p>
<p>However the administration side went something like this:</p>
<ul>
<li>
<p>Find a suitable server application (FreshRSS)</p>
</li>
<li>
<p>Download, install and configure</p>
</li>
<li>
<p>Regularly check for an update (if the application was not installed via the repositories)</p>
</li>
<li>
<p>Backup the database (usually nightly via a cron job)</p>
</li>
<li>
<p>Occasionally check that those backups restore correctly</p>
</li>
<li>
<p>Have a process in place to get the backups <em>off</em> the server and somewhere safe</p>
</li>
<li>
<p>Find an Android app (Feeder)</p>
</li>
<li>
<p>Download, install and configure</p>
</li>
<li>
<p>Updates happen automatically (as I chose an application from the Store)</p>
</li>
<li>
<p>Syncs happen automagically</p>
</li>
</ul>
<p>That seems a lot but in reality the majority of work was done via bash scripts.</p>
<p>Now, my current desktop workflow is:</p>
<ul>
<li>
<p>Find a desktop app (Liferea)</p>
</li>
<li>
<p>Download, install and configure</p>
</li>
<li>
<p>Updates happen automatically (as I chose an application from the repositories)</p>
</li>
<li>
<p>Occasionally export a OMPL backup locally</p>
</li>
</ul>
<p>As syncing is no longer happening, the current mobile workflow is:</p>
<ul>
<li>
<p>Find an Android app (FeedMe)</p>
</li>
<li>
<p>Download, install and configure</p>
</li>
<li>
<p>Updates happen automatically (as I chose an application from the Store)</p>
</li>
<li>
<p>Occasionally import the OMPL backup using a wire connected to the laptop</p>
</li>
</ul>
<p>Now, is it easier to have a service running on a server that syncs automatically?</p>
<p>Yes, of course it is.</p>
<p>But, overall (for me), it&rsquo;s quicker to plug a wire into my phone and transfer a file, which I then import into my phones RSS reader.</p>
<h3 id="self-hosting-can-be-free-from-a-cash-perspective-but-it-comes-with-a-time-cost">Self hosting can be free from a cash perspective but it comes with a time cost<a hidden class="anchor" aria-hidden="true" href="#self-hosting-can-be-free-from-a-cash-perspective-but-it-comes-with-a-time-cost">#</a></h3>
<p>Repeat a similar process for all of the above mentioned services and the time cost start to add up.</p>
<p>For me, most, if not all were learning vehicles; a curiosity itch to scratch.</p>
<p>I was curious about the Fediverse so I installed and wrote scripts for various flavours and database schemas.</p>
<p>I wanted to learn about WordPress so installed and tinkered with that.</p>
<p>Likewise Hugo.</p>
<p>There were $Reasons for all of the services on the list; I&rsquo;ve just run out of $Reasons.</p>
<h3 id="next">Next?<a hidden class="anchor" aria-hidden="true" href="#next">#</a></h3>
<p>As there is no Domain, there is no way to list this IP with Google; which means no search engine listings.</p>
<p>As I have zero social media there is no way to promote these pages.</p>
<p>So, if a blog is not findable and receives no traffic does it even exist?</p>
<p>¯\_(ツ)_/¯</p>
<p>The point is, I don&rsquo;t care.</p>
<p>This was always for myself, my learning and my notes to myself about my learning.</p>
<p>So even this will probably be nuked in the near future.</p>
<p>For now?</p>
<p>I&rsquo;m off to read a book.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://boffinsblog.github.io/tags/self-hosting/">Self Hosting</a></li>
      <li><a href="https://boffinsblog.github.io/tags/web-servers/">Web-Servers</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://boffinsblog.github.io/posts/techno-luddites/">
    <span class="title">« Prev</span>
    <br>
    <span>Techno Luddites</span>
  </a>
  <a class="next" href="https://boffinsblog.github.io/posts/prometheus-scraper/">
    <span class="title">Next »</span>
    <br>
    <span>Prometheus Scraper</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://boffinsblog.github.io/">Boffins Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
        <br>
        <p><a href="https://www.creativecommons.org/licenses/by-nc/4.0/deed.en" rel="noopener noreferrer" target="_blank">This work is licensed under CC BY-NC-SA 4.0</a></p>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
