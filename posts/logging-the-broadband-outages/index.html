<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Logging the Broadband Outages | Boffins Blog</title>
<meta name="keywords" content="Python, Raspberry Pi, Web-Servers">
<meta name="description" content="Regularly pinging a known good URL and logging the response to a .csv file to record network outages.">
<meta name="author" content="Boffin">
<link rel="canonical" href="https://boffinsblog.github.io/posts/logging-the-broadband-outages/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.e13be8719bbabf4005d0d2b0f19dba897f7d41b2e807b64c47ee1436d126ab01.css" integrity="sha256-4TvocZu6v0AF0NKw8Z26iX99QbLoB7ZMR&#43;4UNtEmqwE=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://boffinsblog.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://boffinsblog.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://boffinsblog.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://boffinsblog.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://boffinsblog.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://boffinsblog.github.io/posts/logging-the-broadband-outages/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:url" content="https://boffinsblog.github.io/posts/logging-the-broadband-outages/">
  <meta property="og:site_name" content="Boffins Blog">
  <meta property="og:title" content="Logging the Broadband Outages">
  <meta property="og:description" content="Regularly pinging a known good URL and logging the response to a .csv file to record network outages.">
  <meta property="og:locale" content="en-gb">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-02T13:21:30+00:00">
    <meta property="article:modified_time" content="2024-02-02T13:21:30+00:00">
    <meta property="article:tag" content="Python">
    <meta property="article:tag" content="Raspberry Pi">
    <meta property="article:tag" content="Web-Servers">
    <meta property="og:image" content="https://boffinsblog.github.io/posts/logging-the-broadband-outages/01_Network_Status_Screenshot.webp">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://boffinsblog.github.io/posts/logging-the-broadband-outages/01_Network_Status_Screenshot.webp">
<meta name="twitter:title" content="Logging the Broadband Outages">
<meta name="twitter:description" content="Regularly pinging a known good URL and logging the response to a .csv file to record network outages.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://boffinsblog.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Logging the Broadband Outages",
      "item": "https://boffinsblog.github.io/posts/logging-the-broadband-outages/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Logging the Broadband Outages",
  "name": "Logging the Broadband Outages",
  "description": "Regularly pinging a known good URL and logging the response to a .csv file to record network outages.",
  "keywords": [
    "Python", "Raspberry Pi", "Web-Servers"
  ],
  "articleBody": "To log or not to log, that is the question I was fed up of asking “is the network down”, so I resorted to logging the Broadband outages.\nA while ago I had a terrible Broadband provider.\nFrequent outages.\nRouters that crashed for no reason.\nTerrible customer service that couldn’t comprehend that I didn’t own a Windows computer.\nA reluctant Engineer who wondered why he had been tasked with visiting my house.\nBut the bottom line was; I never really knew whether the network was up or down.\nSo I decided to start logging when the network failed, at least that way I’d have some actual ammunition data when I got through to the terrible customer service.\nLogging the Broadband Outages Scripts Essentially, a cron job runs every five minutes.\nThe cron job does three things:\nFirstly, it runs a Python script that pings a URL and appends a ‘Network is up / Network is down‘ response to an ever growing .csv file.\nSecondly the cron job looks through that .csv file for the latest time and date that the network was down.\nLastly, it takes this piece of information and writes it to a new file.\nA web page can then display the contents of this new file.\nnetwork_status_python.py The Python script pings a known good URL and writes a response to the network_status_data.csv file.\n#!/usr/bin/env python import os import csv from datetime import datetime # Local path and filenames csv_path = \"/home/foo/path/to/network_status/\" csv_filename = \"network_status_data.csv\" log_path = \"/home/foo/Logs/\" log_filename = \"network_status_updated\" # Remove the log file if it exists if os.path.exists(log_path+log_filename): os.remove(log_path+log_filename) else: print(\"The file does not exist\") # ping Google and note the response hostname = \"google.com\" response = os.system(\"ping -c 1 \" + hostname) # Generate what to write to the .csv file dt = datetime.now() full_date = dt.strftime('%Y-%m-%d') full_time = dt.strftime('%H:%M:%S') # Write to the .csv file if response == 0: csvWrite = full_date, full_time, 'Network is up' csvFile = open(csv_path+csv_filename, 'a') with csvFile: writer = csv.writer(csvFile) writer.writerow(csvWrite) else: csvWrite = full_date, full_time, 'Network is down' csvFile = open(csv_path+csv_filename, 'a') with csvFile: writer = csv.writer(csvFile) writer.writerow(csvWrite) # Create a log file to show the latest status was captured f = open(log_path+log_filename, \"x\") Create the script with:\nnano ~/home/foo/path/to/network_status_python.py\nMake the script executable with:\nchmod +x ~/home/foo/path/to/network_status_python.py\nnetwork_status_data.csv This file contains the logged responses, growing in size over time.\nfull_date\tfull_time\tnetwork_status 2022-08-07\t03:45:01\tNetwork is up 2022-08-07\t03:50:01\tNetwork is up 2022-08-07\t03:55:01\tNetwork is up 2022-08-07\t04:00:12\tNetwork is down 2022-08-07\t04:05:11\tNetwork is down 2022-08-07\t04:10:11\tNetwork is down 2022-08-07\t04:15:01\tNetwork is up 2022-08-07\t04:20:01\tNetwork is up 2022-08-07\t04:25:02\tNetwork is up Before Python can write to the .csv file it needs to be created:\nnano ~/home/foo/path/to/network_status_data.csv\ncrontab.txt The cron example that:\nexecutes the Python script\ngreps when the network was last down\nwrites that info to the network_down.csv file\n# # This runs the python script to log the network status, then creates the last network outage file */5 * * * * python3 /home/foo/path/to/network_status_python.py \u0026\u0026 grep 'Network is down' /home/foo/path/to/network_status_data.csv | tail -1 \u003e /var/www/example.com/network_down.csv # network_down.csv The timestamp of when the network was last down.\nI have placed this file in /var/www/example.com, a location that is accessible to a web page.\n2022-08-07\t04:10:11\tNetwork is down Before cron can write to the .csv file it needs to be created:\nsudo nano /var/www/example.com/network_down.csv\nOwn the file with:\nsudo chown $USER:$USER /var/www/example.com/network_down.csv\nphp_snippet.php An example of how to display the network_down.csv info on a web page.\nI used PHP.\nYMMV\n\u003c?php $fcsv = fopen( 'network_down.csv', 'r' ); $row = fgetcsv( $fcsv ); ?\u003e Last Outage Date Time Status \u003c?= $row[0] ?\u003e \u003c?= $row[1] ?\u003e \u003c?= $row[2] ?\u003e ",
  "wordCount" : "626",
  "inLanguage": "en",
  "image":"https://boffinsblog.github.io/posts/logging-the-broadband-outages/01_Network_Status_Screenshot.webp","datePublished": "2024-02-02T13:21:30Z",
  "dateModified": "2024-02-02T13:21:30Z",
  "author":{
    "@type": "Person",
    "name": "Boffin"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://boffinsblog.github.io/posts/logging-the-broadband-outages/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Boffins Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://boffinsblog.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://boffinsblog.github.io/" accesskey="h" title="Boffins Blog (Alt + H)">Boffins Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://boffinsblog.github.io/categories/featured/" title="Featured">
                    <span>Featured</span>
                </a>
            </li>
            <li>
                <a href="https://boffinsblog.github.io/categories" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://boffinsblog.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://boffinsblog.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://boffinsblog.github.io/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Logging the Broadband Outages
    </h1>
    <div class="post-meta"><span title='2024-02-02 13:21:30 +0000 GMT'>February 2, 2024</span>&nbsp;·&nbsp;<span>3 min</span>&nbsp;·&nbsp;<span>Boffin</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#to-log-or-not-to-log-that-is-the-question" aria-label="To log or not to log, that is the question">To log or not to log, that is the question</a></li>
                <li>
                    <a href="#logging-the-broadband-outages-scripts" aria-label="Logging the Broadband Outages Scripts">Logging the Broadband Outages Scripts</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="to-log-or-not-to-log-that-is-the-question">To log or not to log, that is the question<a hidden class="anchor" aria-hidden="true" href="#to-log-or-not-to-log-that-is-the-question">#</a></h2>
<p>I was fed up of asking “is the network down”, so I resorted to logging the Broadband outages.</p>
<p>A while ago I had a terrible Broadband provider.</p>
<p>Frequent outages.</p>
<p>Routers that crashed for no reason.</p>
<p>Terrible customer service that couldn’t comprehend that I didn’t own a Windows computer.</p>
<p>A reluctant Engineer who wondered why he had been tasked with visiting my house.</p>
<p>But the bottom line was; I never really knew whether the network was up or down.</p>
<p>So I decided to start logging when the network failed, at least that way I’d have some actual <strong>ammunition</strong> data when I got through to the terrible customer service.</p>
<h2 id="logging-the-broadband-outages-scripts">Logging the Broadband Outages Scripts<a hidden class="anchor" aria-hidden="true" href="#logging-the-broadband-outages-scripts">#</a></h2>
<p>Essentially, a <code>cron</code> job runs every five minutes.</p>
<p>The <code>cron</code> job does three things:</p>
<p>Firstly, it runs a Python script that pings a URL and appends a ‘<strong>Network is up</strong> / <strong>Network is down</strong>‘ response to an ever growing .csv file.</p>
<p>Secondly the <code>cron</code> job looks through that <code>.csv</code> file for the latest time and date that the network was down.</p>
<p>Lastly, it takes this piece of information and writes it to a new file.</p>
<p>A web page can then display the contents of this new file.</p>
<h3 id="network_">

<a href="https://github.com/BoffinsBlog/Python/blob/main/network-status/network_status_python.py" target="_blank" rel="nofollow noopener noreferrer">network_status_python.py</a>
</h3>
<p>The Python script pings a known good URL and writes a response to the 

<a href="https://github.com/BoffinsBlog/Python/blob/main/network-status/network_status_data.csv" target="_blank" rel="nofollow noopener noreferrer">network_status_data.csv</a>
 file.</p>
<pre tabindex="0"><code>#!/usr/bin/env python

import os
import csv
from datetime import datetime

# Local path and filenames
csv_path = &#34;/home/foo/path/to/network_status/&#34;
csv_filename = &#34;network_status_data.csv&#34;
log_path = &#34;/home/foo/Logs/&#34;
log_filename = &#34;network_status_updated&#34;

# Remove the log file if it exists
if os.path.exists(log_path+log_filename):
    os.remove(log_path+log_filename)
else:
    print(&#34;The file does not exist&#34;)

# ping Google and note the response
hostname = &#34;google.com&#34;
response = os.system(&#34;ping -c 1 &#34; + hostname)

# Generate what to write to the .csv file
dt = datetime.now()
full_date = dt.strftime(&#39;%Y-%m-%d&#39;)
full_time = dt.strftime(&#39;%H:%M:%S&#39;)

# Write to the .csv file
if response == 0:
    csvWrite = full_date, full_time, &#39;Network is up&#39;
    csvFile = open(csv_path+csv_filename, &#39;a&#39;)
    with csvFile:
        writer = csv.writer(csvFile)
        writer.writerow(csvWrite)
else:
    csvWrite = full_date, full_time, &#39;Network is down&#39;
    csvFile = open(csv_path+csv_filename, &#39;a&#39;)
    with csvFile:
        writer = csv.writer(csvFile)
        writer.writerow(csvWrite)

# Create a log file to show the latest status was captured
f = open(log_path+log_filename, &#34;x&#34;)
</code></pre><p>Create the script with:</p>
<p><code>nano ~/home/foo/path/to/network_status_python.py</code></p>
<p>Make the script executable with:</p>
<p><code>chmod +x ~/home/foo/path/to/network_status_python.py</code></p>
<h3 id="network_-1">

<a href="https://github.com/BoffinsBlog/Python/blob/main/network-status/network_status_data.csv" target="_blank" rel="nofollow noopener noreferrer">network_status_data.csv</a>
</h3>
<p>This file contains the logged responses, growing in size over time.</p>
<pre tabindex="0"><code>full_date	full_time	network_status
2022-08-07	03:45:01	Network is up
2022-08-07	03:50:01	Network is up
2022-08-07	03:55:01	Network is up
2022-08-07	04:00:12	Network is down
2022-08-07	04:05:11	Network is down
2022-08-07	04:10:11	Network is down
2022-08-07	04:15:01	Network is up
2022-08-07	04:20:01	Network is up
2022-08-07	04:25:02	Network is up
</code></pre><p>Before Python can write to the <code>.csv</code> file it needs to be created:</p>
<p><code>nano ~/home/foo/path/to/network_status_data.csv</code></p>
<h3 id="crontabtxt">

<a href="https://github.com/BoffinsBlog/Python/blob/main/network-status/crontab.txt" target="_blank" rel="nofollow noopener noreferrer">crontab.txt</a>
</h3>
<p>The <code>cron</code> example that:</p>
<ul>
<li>
<p>executes the Python script</p>
</li>
<li>
<p><code>greps</code> when the network was last down</p>
</li>
<li>
<p>writes that info to the 

<a href="https://github.com/BoffinsBlog/Python/blob/main/network-status/network_down.csv" target="_blank" rel="nofollow noopener noreferrer">network_down.csv</a>
 file</p>
</li>
</ul>
<pre tabindex="0"><code>#
# This runs the python script to log the network status, then creates the last network outage file
*/5 * * * * python3 /home/foo/path/to/network_status_python.py &amp;&amp; grep &#39;Network is down&#39; /home/foo/path/to/network_status_data.csv | tail -1 &gt; /var/www/example.com/network_down.csv
#
</code></pre><h3 id="network_-2">

<a href="https://github.com/BoffinsBlog/Python/blob/main/network-status/network_down.csv" target="_blank" rel="nofollow noopener noreferrer">network_down.csv</a>
</h3>
<p>The timestamp of when the network was last down.</p>
<p>I have placed this file in <code>/var/www/example.com</code>, a location that is accessible to a web page.</p>
<pre tabindex="0"><code>2022-08-07	04:10:11	Network is down
</code></pre><p>Before <code>cron</code> can write to the <code>.csv</code> file it needs to be created:</p>
<p><code>sudo nano /var/www/example.com/network_down.csv</code></p>
<p>Own the file with:</p>
<p><code>sudo chown $USER:$USER /var/www/example.com/network_down.csv</code></p>
<h3 id="php_">

<a href="https://github.com/BoffinsBlog/Python/blob/main/network-status/php_snippet.php" target="_blank" rel="nofollow noopener noreferrer">php_snippet.php</a>
</h3>
<p>An example of how to display the 

<a href="https://github.com/BoffinsBlog/Python/blob/main/network-status/network_down.csv" target="_blank" rel="nofollow noopener noreferrer">network_down.csv</a>
 info on a web page.</p>
<p>I used <code>PHP</code>.</p>
<p>YMMV</p>
<pre tabindex="0"><code>&lt;?php
$fcsv = fopen( &#39;network_down.csv&#39;, &#39;r&#39; );
$row = fgetcsv( $fcsv );
?&gt;
&lt;table&gt;
	&lt;tr&gt;
		&lt;th colspan=&#34;3&#34;&gt;Last Outage&lt;/th&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;th&gt;Date&lt;/th&gt;
		&lt;th&gt;Time&lt;/th&gt;
		&lt;th&gt;Status&lt;/th&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt;&lt;?= $row[0] ?&gt;&lt;/td&gt;
		&lt;td&gt;&lt;?= $row[1] ?&gt;&lt;/td&gt;
		&lt;td&gt;&lt;?= $row[2] ?&gt;&lt;/td&gt;
	&lt;/tr&gt;
&lt;/table&gt;
</code></pre>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://boffinsblog.github.io/tags/python/">Python</a></li>
      <li><a href="https://boffinsblog.github.io/tags/raspberry-pi/">Raspberry Pi</a></li>
      <li><a href="https://boffinsblog.github.io/tags/web-servers/">Web-Servers</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://boffinsblog.github.io/posts/fuck-techbros/">
    <span class="title">« Prev</span>
    <br>
    <span>Fuck Techbros</span>
  </a>
  <a class="next" href="https://boffinsblog.github.io/posts/updating-the-iceshrimp-blocklist/">
    <span class="title">Next »</span>
    <br>
    <span>Updating the Iceshrimp Blocklist</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://boffinsblog.github.io/">Boffins Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
        <br>
        <p><a href="https://www.creativecommons.org/licenses/by-nc/4.0/deed.en" rel="noopener noreferrer" target="_blank">This work is licensed under CC BY-NC-SA 4.0</a></p>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
